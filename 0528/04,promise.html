<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<script>
    /*
             promise的使用：
                 - 需要实例化调用,实例化的时候，参数必须是一个回调函数
                 - 回调函数有两个参数：resolve，reject，这两个参数其实是回调函数
                 - 当异步代码执行成功的时候，可以调用resolve函数，通知promise对象，我成功了
                 - 当异步代码执行失败的时候，可以调用reject函数，通知promise对象，我失败了
                 - 当不调用resolve和reject，则promise一直在等待中。
                 - 调用resolve和reject时，回调函数的参数，就是promise状态对应的值

             promise的返回值：
                 - 是一个对象，有两个属性
                 - PromiseState:当前promise的状态
                 - PromiseResult:当前promise的值

             promise的三种状态：
                 - pending:正在进行中
                 - fulfilled/resolved:成功状态
                 - rejected:失败状态

         */
    // {
    //     let a = 1;
    //     console.log('开始')
    //     let p = new Promise((resolve, reject) => {
    //         console.log(a);
    //         let arr = [1, 2, 3]
    //         resolve(arr);
    //
    //     })
    //
    //     let re = p.then((date) => {
    //         console.log(a);
    //         date.push(4);
    //         console.log(date);
    //     });
    //     console.log('结束')
    // }


    console.log('开始')
    let p = new Promise((resolve, reject) => {
        console.log(1);
        let arr = [1, 2, 3]
        resolve(arr);

    }).then((date) => {
        return new Promise((resolve, reject) => {
            date.push(4);
            console.log(date);
            resolve(date);

        })
    })
        .then((date) => {
            return new Promise((resolve, reject) => {
                date.push(5);
                console.log(date);
                resolve(date);

            })
        })
        .then((date) => {
            return new Promise((resolve, reject) => {
                date.push(6);
                console.log(date);
                resolve(date);

            })
        })
        .then((date) => {
            return new Promise((resolve, reject) => {
                date.push(7);
                console.log(date);
                resolve(date);

            })
        }).then((date) => {
            return new Promise((resolve, reject) => {
                date.push(8);
                console.log(date);
                resolve(date);

            })
        }).finally((resolve, reject) => {
            resolve('heihei')
        }).then((date) => {
            return new Promise((resolve, reject) => {
                resolve(6666);
                console.log(date);

            })
        })


    console.log('结束')

</script>
</body>
</html>